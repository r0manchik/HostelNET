
@{
    ViewData["Title"] = "Local Storage";

}

<!--///////////////////////////////////////-Local Storage Example-////////////////////////////////////////////////-->
<br />
<br />
<br />
<br />

<div>

    <form>
        <input id="item" type="text" placeholder="Write your favorite hostel">
    </form>

    <p>
        Your favorite hostel:
    </p>
    <ul id="FavouriteHostel"></ul>

    <button>Clear All</button>
</div>

<script>
    const form = document.querySelector('form');
    const ul = document.getElementById("FavouriteHostel");
    const button = document.querySelector('button');
    const input = document.getElementById('item');
    let itemsArray = localStorage.getItem('items') ? JSON.parse(localStorage.getItem('items')) : [];
    localStorage.setItem('items', JSON.stringify(itemsArray));
    const data = JSON.parse(localStorage.getItem('items'));
    const liMaker = (text) => {
        const li = document.createElement('li');
        li.textContent = text;
        ul.appendChild(li);
    }
    form.addEventListener('submit', function (e) {
        e.preventDefault();
        itemsArray.push(input.value);
        localStorage.setItem('items', JSON.stringify(itemsArray));
        liMaker(input.value);
        input.value = "";
    });
    data.forEach(item => {
        liMaker(item);
    });
    button.addEventListener('click', function () {
        localStorage.clear();
        while (ul.firstChild) {
            ul.removeChild(ul.firstChild);
        }
        itemsArray = [];
    });
</script>

<canvas id="my-canvas" class="canvas" width="360" height="240"></canvas>